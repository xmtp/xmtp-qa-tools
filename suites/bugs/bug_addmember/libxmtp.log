 RUN  v3.2.0 /Users/fabrizioguespe/DevRel/xmtp-qa-tools
      API started at http://localhost:51205/

stdout | suites/bugs/bug_addmember/test.test.ts
envPath .env

2025-06-06T01:37:49.930389Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local] exists? [true]
2025-06-06T01:37:49.930447Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local
2025-06-06T01:37:49.930474Z  INFO xmtp_db::encrypted_store::database::native::sqlcipher_connection: db_path=[/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local]
2025-06-06T01:37:49.930522Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local] exists? [true]
2025-06-06T01:37:49.931681Z  INFO xmtp_db::encrypted_store::database::native::sqlcipher_connection: Sqlite cipher_version="4.6.1 community", cipher_provider_version="OpenSSL 3.5.0 8 Apr 2025"
2025-06-06T01:37:49.931685Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: SQLCipher Database validated.
2025-06-06T01:37:49.939069Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/bob/a/0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F-local] exists? [true]
2025-06-06T01:37:49.939311Z  INFO xmtp_db::encrypted_store::database::native::sqlcipher_connection: Sqlite cipher_version="4.6.1 community", cipher_provider_version="OpenSSL 3.5.0 8 Apr 2025"
2025-06-06T01:37:49.939315Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: SQLCipher Database validated.
2025-06-06T01:37:49.939477Z  INFO xmtp_db::encrypted_store: sqlite_version=3.46.1
2025-06-06T01:37:49.939480Z  INFO xmtp_db::encrypted_store: Migrations successful
2025-06-06T01:37:49.939505Z  INFO xmtp_mls::identity: Initializing identity
2025-06-06T01:37:49.939591Z DEBUG xmtp_mls::identity: identity in store: Some(Identity { inbox_id: "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824", installation_keys: XmtpInstallationCredential(SigningKey { verifying_key: VerifyingKey(CompressedEdwardsY: [67, 81, 5, 31, 242, 136, 46, 64, 60, 90, 253, 41, 37, 150, 36, 199, 36, 33, 0, 200, 151, 217, 171, 22, 131, 110, 231, 29, 255, 212, 142, 16]), EdwardsPoint{
	X: FieldElement51([205666153575056, 893736824974055, 1207422772825531, 1066695334103919, 8641114999700]),
	Y: FieldElement51([2247507513932962, 1923859197896437, 1151173955516596, 1283871788376776, 1547820379339334]),
	Z: FieldElement51([46729036332263, 653451813698848, 359351827781978, 779198299321663, 506999373375554]),
	T: FieldElement51([1274974481932407, 1315065627634438, 324614142385599, 2032940402023098, 947882569004203])
}), .. }), credential: Credential { credential_type: Basic, serialized_credential_content: VLBytes { 0x0a4038353862656466653666313931613431636666646232643261623432656330653131663062383166353739643237396232383634323039346233346337383234 } }, signature_request: None, is_ready: true })
2025-06-06T01:37:49.939615Z DEBUG xmtp_mls::identity: Found existing identity in store installation_id="4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10" inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824"
2025-06-06T01:37:49.939619Z DEBUG xmtp_mls::builder: Initialized identity inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id="4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10"
2025-06-06T01:37:49.939625Z DEBUG xmtp_mls::identity_updates: Fetching identity updates for: ["858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824"]
2025-06-06T01:37:49.944229Z DEBUG xmtp_mls::groups::device_sync: starting sync worker inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id="4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10"
2025-06-06T01:37:49.944276Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: Initializing device sync... url: Some("http://localhost:5558") inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id="4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10"
2025-06-06T01:37:49.944374Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: Device sync initialized. inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id="4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10"
2025-06-06T01:37:49.945310Z DEBUG xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:37:49.945431Z DEBUG xmtp_mls::groups::key_package_cleaner_worker: No expired key packages to delete
stdout | suites/bugs/bug_addmember/test.test.ts
[2025-06-06T01:37:49.954Z] [debug] [
  "local:bob-a 0x475D38cA649869eEe2106fcE3B8BAb70ADb7Fc8F 210-7b9b4d0 1 - 988.08 KB"
]
2025-06-06T01:37:49.955049Z DEBUG xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:37:49.956875Z  INFO get_inbox_ids{account_identifiers=[ApiIdentifier { identifier: "0xf2b95adaa582238295e74a0c7bb7bbce78ddb348", identifier_kind: Ethereum }] len=1}: xmtp_api::identity: Getting inbox_ids for account identities: [ApiIdentifier { identifier: "0xf2b95adaa582238295e74a0c7bb7bbce78ddb348", identifier_kind: Ethereum }]
2025-06-06T01:37:49.961792Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local] exists? [true]
2025-06-06T01:37:49.961836Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: salt and database exist, db=[/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local], salt=[/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local.sqlcipher_salt] salt=/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local.sqlcipher_salt db=/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local
2025-06-06T01:37:49.961865Z  INFO xmtp_db::encrypted_store::database::native::sqlcipher_connection: db_path=[/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local]
2025-06-06T01:37:49.961909Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local] exists? [true]
2025-06-06T01:37:49.962392Z  INFO xmtp_db::encrypted_store::database::native::sqlcipher_connection: Sqlite cipher_version="4.6.1 community", cipher_provider_version="OpenSSL 3.5.0 8 Apr 2025"
2025-06-06T01:37:49.962396Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: SQLCipher Database validated.
2025-06-06T01:37:49.968639Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: db @ [/Users/fabrizioguespe/DevRel/xmtp-qa-tools/.data/alice/a/0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348-local] exists? [true]
2025-06-06T01:37:49.968861Z  INFO xmtp_db::encrypted_store::database::native::sqlcipher_connection: Sqlite cipher_version="4.6.1 community", cipher_provider_version="OpenSSL 3.5.0 8 Apr 2025"
2025-06-06T01:37:49.968870Z DEBUG xmtp_db::encrypted_store::database::native::sqlcipher_connection: SQLCipher Database validated.
2025-06-06T01:37:49.968978Z  INFO xmtp_db::encrypted_store: sqlite_version=3.46.1
2025-06-06T01:37:49.968981Z  INFO xmtp_db::encrypted_store: Migrations successful
2025-06-06T01:37:49.968998Z  INFO xmtp_mls::identity: Initializing identity
2025-06-06T01:37:49.969062Z DEBUG xmtp_mls::identity: identity in store: Some(Identity { inbox_id: "fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be", installation_keys: XmtpInstallationCredential(SigningKey { verifying_key: VerifyingKey(CompressedEdwardsY: [127, 211, 210, 77, 126, 222, 91, 252, 135, 135, 214, 183, 75, 112, 242, 63, 52, 113, 236, 167, 4, 215, 43, 39, 80, 249, 210, 35, 224, 209, 66, 168]), EdwardsPoint{
	X: FieldElement51([275375481891885, 1568243746036233, 1459287341892086, 1192140558303825, 141447950263974]),
	Y: FieldElement51([1000612776519234, 736929906920747, 553184929257462, 1294306832198662, 1652616192471655]),
	Z: FieldElement51([1421880873578222, 1747684012357290, 1749769993664702, 139932028197150, 511196396429256]),
	T: FieldElement51([2249886319405262, 852748587042285, 1674316773124612, 1759441708793348, 543378502484034])
}), .. }), credential: Credential { credential_type: Basic, serialized_credential_content: VLBytes { 0x0a4066616265303466633764663336303131316530323362633462323138616332353233646362376332323537343462353737396662366365356531383834306265 } }, signature_request: None, is_ready: true })
2025-06-06T01:37:49.969073Z DEBUG xmtp_mls::identity: Found existing identity in store installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be"
2025-06-06T01:37:49.969077Z DEBUG xmtp_mls::builder: Initialized identity inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be" installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"
2025-06-06T01:37:49.969079Z DEBUG xmtp_mls::identity_updates: Fetching identity updates for: ["fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be"]
2025-06-06T01:37:49.972504Z DEBUG xmtp_mls::groups::device_sync: starting sync worker inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be" installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"
2025-06-06T01:37:49.972531Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: Initializing device sync... url: Some("http://localhost:5558") inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be" installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"
2025-06-06T01:37:49.972635Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: Device sync initialized. inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be" installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"
2025-06-06T01:37:49.973265Z DEBUG stream_conversations: xmtp_mls::subscriptions::stream_conversations: Setting up conversation stream cursor = 270124 cursor=270124 inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be"
2025-06-06T01:37:49.973272Z DEBUG stream_conversations: xmtp_api::mls: subscribing to welcome messages
2025-06-06T01:37:49.973394Z DEBUG xmtp_db::encrypted_store::association_state: Loaded association state from cache: fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be 891
2025-06-06T01:37:49.973432Z DEBUG xmtp_mls::groups::key_package_cleaner_worker: No expired key packages to delete
2025-06-06T01:37:49.973467Z  INFO rotate_and_upload_key_package: xmtp_mls::identity: Start rotating keys and uploading the new key package
2025-06-06T01:37:49.974532Z DEBUG rotate_and_upload_key_package:upload_key_package: xmtp_api::mls: upload key packages
stdout | suites/bugs/bug_addmember/test.test.ts
[2025-06-06T01:37:49.981Z] [debug] [
  "local:alice-a 0xF2b95adAA582238295e74A0C7bB7bbCe78Ddb348 210-7b9b4d0 1 - 644.36 KB"
]

2025-06-06T01:37:49.981423Z DEBUG xmtp_db::encrypted_store::association_state: Loaded association state from cache: fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be 891
2025-06-06T01:37:49.982314Z DEBUG rotate_and_upload_key_package:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.982444Z DEBUG rotate_and_upload_key_package:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.983515Z  INFO xmtp_mls::client: creating group
stdout | suites/bugs/bug_addmember/test.test.ts > bug_addmember > should create a group
[2025-06-06T01:37:49.983Z] [info] All inbox ids 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0,4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70
2025-06-06T01:37:49.985997Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Fetching identity updates for: ["858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824", "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0", "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70"]
2025-06-06T01:37:49.986077Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: New event: SyncWorkerEvent(SyncPreferences([Consent(StoredConsentRecord { entity_type: ConversationId, state: Allowed, entity: "5ef738ad0a9b61bcc294a3bf621779e6", consented_at_ns: 1749173869985413000 })]))
2025-06-06T01:37:49.986179Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync: Sending sync message to group [231, 46, 166, 206]: DeviceSyncContent { content: Some(PreferenceUpdates(PreferenceUpdates { updates: [PreferenceUpdate { update: Some(Consent(ConsentSave { entity_type: ConversationId, state: Allowed, entity: "5ef738ad0a9b61bcc294a3bf621779e6", consented_at_ns: 1749173869985413000 })) }] })) }
2025-06-06T01:37:49.986199Z DEBUG DEVICE SYNC:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.986301Z DEBUG DEVICE SYNC:transaction:inner_transaction: xmtp_mls::groups::intents: queued intent inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" intent_kind=SendMessage
2025-06-06T01:37:49.986483Z DEBUG DEVICE SYNC:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.987200Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.987422Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.987428Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] set stored intent [80] with hash [7ab0baccf85b3d31268f649075ceb2d4cf571fa67473fb54c1b3e19c17fa5553] to state `published` inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 intent.id=80 intent.kind=SendMessage group_id="e72ea6ce273f33d5fdd5862e4a2dc65f"
2025-06-06T01:37:49.987475Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:send_group_messages: xmtp_api::mls: sending [1] group messages
2025-06-06T01:37:49.989574Z  INFO load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 0}, failed_installations: [] }. New GroupMembership { members: {"4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892, "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37}, failed_installations: [] }
2025-06-06T01:37:49.989614Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70" from None to Some(837)
2025-06-06T01:37:49.989688Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:37:49.989707Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0" from None to Some(37)
2025-06-06T01:37:49.989736Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:37:49.989742Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" from None to Some(892)
2025-06-06T01:37:49.989752Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:37:49.989765Z DEBUG load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:fetch_key_packages: xmtp_api::mls: fetch key packages with 2 installation keys
2025-06-06T01:37:49.993849Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] published intent [80] of type [SendMessage] with hash [7ab0baccf85b3d31268f649075ceb2d4cf571fa67473fb54c1b3e19c17fa5553] intent.id=80 intent.kind=SendMessage inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f"
2025-06-06T01:37:49.993943Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(85973) group_id="e72ea6ce273f33d5fdd5862e4a2dc65f"}: xmtp_api::mls: query group messages group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" id_cursor=85973
2025-06-06T01:37:49.994066Z DEBUG transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.994132Z DEBUG transaction:inner_transaction: xmtp_mls::groups::intents: queued intent inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" intent_kind=UpdateGroupMembership
2025-06-06T01:37:49.994311Z DEBUG transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.994558Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::intents: old group membership: {"858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 0}
2025-06-06T01:37:49.994567Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::intents: updated group membership: {"4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837, "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892}
2025-06-06T01:37:49.994574Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 0}, failed_installations: [] }. New GroupMembership { members: {"4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837, "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892}, failed_installations: [] }
2025-06-06T01:37:49.994605Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70" from None to Some(837)
2025-06-06T01:37:49.994650Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:37:49.994659Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0" from None to Some(37)
2025-06-06T01:37:49.994683Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:37:49.994690Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" from None to Some(892)
2025-06-06T01:37:49.994700Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:37:49.994706Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:fetch_key_packages: xmtp_api::mls: fetch key packages with 2 installation keys
2025-06-06T01:37:49.997207Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 7ab0baccf85b3d31268f649075ceb2d4cf571fa67473fb54c1b3e19c17fa5553, sequence_id = 85976, is_own_intent=true inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" cursor=85976
2025-06-06T01:37:49.997215Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: client [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] is about to process own envelope [85976] for intent [80] [SendMessage] inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" cursor=85976 intent_id=80 intent.kind=SendMessage
2025-06-06T01:37:49.997323Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.997330Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: calling update cursor for group e72ea6ce273f33d5fdd5862e4a2dc65f, with cursor 85976, allow_cursor_increment is true
2025-06-06T01:37:49.997381Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: cursor updated to [85976]
2025-06-06T01:37:49.997390Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824]-[e72ea6ce273f33d5fdd5862e4a2dc65f] processing own message for intent 80 / SendMessage, message_epoch: 1 inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" cursor=85976 intent.id=80 intent.kind=SendMessage
2025-06-06T01:37:49.997403Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: setting message @cursor=[85976] to published
2025-06-06T01:37:49.997430Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: Intent [80] moved to Processed status
2025-06-06T01:37:49.997614Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.997625Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [e72ea6ce273f33d5fdd5862e4a2dc65f] envelope cursor[85976]
2025-06-06T01:37:49.997712Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved: xmtp_mls::groups::mls_sync: not retrying intent ID 80. since it is in state processed. synced 1 messages, 0 failed 1 succeeded from cursor Some(85976)
2025-06-06T01:37:49.997766Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync_legacy::preference_sync_legacy: Outgoing preference update [ConsentUpdate(StoredConsentRecord { entity_type: ConversationId, state: Allowed, entity: "5ef738ad0a9b61bcc294a3bf621779e6", consented_at_ns: 1749173869985413000 })] sync group: [231, 46, 166, 206, 39, 63, 51, 213, 253, 213, 134, 46, 74, 45, 198, 95]
2025-06-06T01:37:49.997782Z DEBUG DEVICE SYNC: xmtp_mls::groups: No queryable content fields, msg not formatted as encoded content
2025-06-06T01:37:49.997785Z DEBUG DEVICE SYNC:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.997812Z DEBUG DEVICE SYNC:transaction:inner_transaction: xmtp_mls::groups::intents: queued intent inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" intent_kind=SendMessage
2025-06-06T01:37:49.998010Z DEBUG DEVICE SYNC:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.998613Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:49.998779Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:49.998784Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] set stored intent [82] with hash [ab7016769865e0d6e34de864d5a396d229addeb4ff6a09f35d8b8631874f280d] to state `published` inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 intent.id=82 intent.kind=SendMessage group_id="e72ea6ce273f33d5fdd5862e4a2dc65f"
2025-06-06T01:37:49.998816Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:send_group_messages: xmtp_api::mls: sending [1] group messages
2025-06-06T01:37:50.000572Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.000800Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.000806Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] set stored intent [81] with hash [8a3e6825ca4d24138812c9650338b73eff0a76a56770f82464c010502d13c2c3] to state `published` inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 intent.id=81 intent.kind=UpdateGroupMembership group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:37:50.000847Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:send_group_messages: xmtp_api::mls: sending [1] group messages
2025-06-06T01:37:50.010915Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] published intent [82] of type [SendMessage] with hash [ab7016769865e0d6e34de864d5a396d229addeb4ff6a09f35d8b8631874f280d] intent.id=82 intent.kind=SendMessage inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f"
2025-06-06T01:37:50.010991Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(85976) group_id="e72ea6ce273f33d5fdd5862e4a2dc65f"}: xmtp_api::mls: query group messages group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" id_cursor=85976
2025-06-06T01:37:50.011356Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] published intent [81] of type [UpdateGroupMembership] with hash [8a3e6825ca4d24138812c9650338b73eff0a76a56770f82464c010502d13c2c3] intent.id=81 intent.kind=UpdateGroupMembership inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:37:50.011368Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: Commit sent. Stopping further publishes for this round
2025-06-06T01:37:50.011615Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(0) group_id="5ef738ad0a9b61bcc294a3bf621779e6"}: xmtp_api::mls: query group messages group_id="5ef738ad0a9b61bcc294a3bf621779e6" id_cursor=0
2025-06-06T01:37:50.014235Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 8a3e6825ca4d24138812c9650338b73eff0a76a56770f82464c010502d13c2c3, sequence_id = 85978, is_own_intent=true inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85978
2025-06-06T01:37:50.014238Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash ab7016769865e0d6e34de864d5a396d229addeb4ff6a09f35d8b8631874f280d, sequence_id = 85977, is_own_intent=true inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" cursor=85977
2025-06-06T01:37:50.014241Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: client [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] is about to process own envelope [85978] for intent [81] [UpdateGroupMembership] inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85978 intent_id=81 intent.kind=UpdateGroupMembership
2025-06-06T01:37:50.014245Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: client [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] is about to process own envelope [85977] for intent [82] [SendMessage] inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" cursor=85977 intent_id=82 intent.kind=SendMessage
2025-06-06T01:37:50.014426Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.014432Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: calling update cursor for group e72ea6ce273f33d5fdd5862e4a2dc65f, with cursor 85977, allow_cursor_increment is true
2025-06-06T01:37:50.014470Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: cursor updated to [85977]
2025-06-06T01:37:50.014478Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824]-[e72ea6ce273f33d5fdd5862e4a2dc65f] processing own message for intent 82 / SendMessage, message_epoch: 1 inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="e72ea6ce273f33d5fdd5862e4a2dc65f" cursor=85977 intent.id=82 intent.kind=SendMessage
2025-06-06T01:37:50.014502Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] Validating commit for intent 81. Message timestamp: 1749173870008550000
2025-06-06T01:37:50.014543Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892, "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837}, failed_installations: [] }
2025-06-06T01:37:50.014549Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 0}, failed_installations: [] }. New GroupMembership { members: {"2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892, "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837}, failed_installations: [] }
2025-06-06T01:37:50.014686Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.014697Z  INFO DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0xe72e...c65f], created: [01:00:34], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [e72ea6ce273f33d5fdd5862e4a2dc65f] envelope cursor[85977]
2025-06-06T01:37:50.014740Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0" from None to Some(37)
2025-06-06T01:37:50.014839Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:37:50.014851Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70" from None to Some(837)
2025-06-06T01:37:50.014876Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:37:50.014882Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Computing diff for "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" from None to Some(892)
2025-06-06T01:37:50.014891Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:37:50.014906Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:37:50.014920Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.014967Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: calling update cursor for group 5ef738ad0a9b61bcc294a3bf621779e6, with cursor 85978, allow_cursor_increment is true
2025-06-06T01:37:50.015001Z DEBUG DEVICE SYNC:sync_until_last_intent_resolved:sync_until_intent_resolved: xmtp_mls::groups::mls_sync: not retrying intent ID 82. since it is in state processed. synced 1 messages, 0 failed 1 succeeded from cursor Some(85977)
2025-06-06T01:37:50.015008Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync_legacy::preference_sync_legacy: Sent consent to group_id: [231, 46, 166, 206, 39, 63, 51, 213, 253, 213, 134, 46, 74, 45, 198, 95]
2025-06-06T01:37:50.015013Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: cursor updated to [85978]
2025-06-06T01:37:50.015019Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: New event: SyncWorkerEvent(NewSyncGroupMsg)
2025-06-06T01:37:50.015022Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824]-[5ef738ad0a9b61bcc294a3bf621779e6] processing own message for intent 81 / UpdateGroupMembership, message_epoch: 0 inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85978 intent.id=81 intent.kind=UpdateGroupMembership
2025-06-06T01:37:50.015029Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] merging pending commit for intent 81
2025-06-06T01:37:50.015156Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: Processing 2 messages.
2025-06-06T01:37:50.015164Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::worker: Message content: (external: false) id=0xfd06...95af, PreferenceUpdates(PreferenceUpdates { updates: [PreferenceUpdate { update: Some(Consent(ConsentSave { entity_type: ConversationId, state: Allowed, entity: "5ef738ad0a9b61bcc294a3bf621779e6", consented_at_ns: 1749173869985413000 })) }] })
2025-06-06T01:37:50.015173Z  INFO DEVICE SYNC: xmtp_mls::groups::device_sync::preference_sync: Storing consent update from sync group. State: 2
2025-06-06T01:37:50.015378Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824]: Storing a transcript message with 2 members added and 0 members removed and 0 metadata changes
2025-06-06T01:37:50.015868Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.015890Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [5ef738ad0a9b61bcc294a3bf621779e6] envelope cursor[85978]
2025-06-06T01:37:50.015990Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: taking post commit action inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 intent.id=81 intent.kind=UpdateGroupMembership
2025-06-06T01:37:50.016177Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: total welcome message proto bytes=2342
2025-06-06T01:37:50.016180Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: welcome chunk_size=20147
2025-06-06T01:37:50.016183Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit:send_welcome_messages: xmtp_api::mls: send welcome messages
2025-06-06T01:37:50.030640Z DEBUG sync_until_intent_resolved: xmtp_mls::groups::mls_sync: not retrying intent ID 81. since it is in state processed. synced 1 messages, 0 failed 1 succeeded from cursor Some(85978)
stdout | suites/bugs/bug_addmember/test.test.ts > bug_addmember > should create a group
[2025-06-06T01:37:50.034Z] [info] Group created 5ef738ad0a9b61bcc294a3bf621779e6
2025-06-06T01:37:50.035363Z DEBUG send_message:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Fetching identity updates for: ["4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70", "2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0", "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824"]
2025-06-06T01:37:50.040617Z  INFO send_message:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892, "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837}, failed_installations: [] }. New GroupMembership { members: {"2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0": 37, "858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824": 892, "4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70": 837}, failed_installations: [] }
2025-06-06T01:37:50.040855Z DEBUG send_message:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.040899Z DEBUG send_message:transaction:inner_transaction: xmtp_mls::groups::intents: queued intent inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" intent_kind=SendMessage
2025-06-06T01:37:50.045688Z DEBUG send_message:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.046468Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.046640Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.046645Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] set stored intent [83] with hash [494b58c1faaf1d203e8f7972e8844ce476fdbe45c1e72eb273c64e3cfe0776de] to state `published` inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 intent.id=83 intent.kind=SendMessage group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:37:50.046698Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:send_group_messages: xmtp_api::mls: sending [1] group messages
2025-06-06T01:37:50.055240Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] published intent [83] of type [SendMessage] with hash [494b58c1faaf1d203e8f7972e8844ce476fdbe45c1e72eb273c64e3cfe0776de] intent.id=83 intent.kind=SendMessage inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:37:50.055376Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(85978) group_id="5ef738ad0a9b61bcc294a3bf621779e6"}: xmtp_api::mls: query group messages group_id="5ef738ad0a9b61bcc294a3bf621779e6" id_cursor=85978
2025-06-06T01:37:50.058126Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 494b58c1faaf1d203e8f7972e8844ce476fdbe45c1e72eb273c64e3cfe0776de, sequence_id = 85979, is_own_intent=true inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85979
2025-06-06T01:37:50.058135Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: client [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] is about to process own envelope [85979] for intent [83] [SendMessage] inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85979 intent_id=83 intent.kind=SendMessage
2025-06-06T01:37:50.058353Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.058361Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: calling update cursor for group 5ef738ad0a9b61bcc294a3bf621779e6, with cursor 85979, allow_cursor_increment is true
2025-06-06T01:37:50.058391Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: cursor updated to [85979]
2025-06-06T01:37:50.058410Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824]-[5ef738ad0a9b61bcc294a3bf621779e6] processing own message for intent 83 / SendMessage, message_epoch: 1 inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85979 intent.id=83 intent.kind=SendMessage
2025-06-06T01:37:50.058428Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: setting message @cursor=[85979] to published
2025-06-06T01:37:50.058456Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: Intent [83] moved to Processed status
2025-06-06T01:37:50.058633Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.058648Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [5ef738ad0a9b61bcc294a3bf621779e6] envelope cursor[85979]
2025-06-06T01:37:50.058726Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved: xmtp_mls::groups::mls_sync: not retrying intent ID 83. since it is in state processed. synced 1 messages, 0 failed 1 succeeded from cursor Some(85979)
stdout | suites/bugs/bug_addmember/test.test.ts > bug_addmember > should create a group
[2025-06-06T01:37:50.058Z] [info] Add this member in xmtpchat group t see the conversation stream

2025-06-06T01:37:50.059327Z DEBUG send_message:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.059362Z DEBUG send_message:transaction:inner_transaction: xmtp_mls::groups::intents: queued intent inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" intent_kind=SendMessage
2025-06-06T01:37:50.059609Z DEBUG send_message:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.060406Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.060616Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.060622Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] set stored intent [84] with hash [74dfecd2dd4906941451eb34da44c4cb8d51f97b602240156172f913c0ac875f] to state `published` inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 intent.id=84 intent.kind=SendMessage group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:37:50.060665Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:send_group_messages: xmtp_api::mls: sending [1] group messages
2025-06-06T01:37:50.065216Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:publish_intents{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] published intent [84] of type [SendMessage] with hash [74dfecd2dd4906941451eb34da44c4cb8d51f97b602240156172f913c0ac875f] intent.id=84 intent.kind=SendMessage inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:37:50.065321Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(85979) group_id="5ef738ad0a9b61bcc294a3bf621779e6"}: xmtp_api::mls: query group messages group_id="5ef738ad0a9b61bcc294a3bf621779e6" id_cursor=85979
2025-06-06T01:37:50.066701Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 74dfecd2dd4906941451eb34da44c4cb8d51f97b602240156172f913c0ac875f, sequence_id = 85980, is_own_intent=true inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85980
2025-06-06T01:37:50.066711Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}: xmtp_mls::groups::mls_sync: client [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824] is about to process own envelope [85980] for intent [84] [SendMessage] inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85980 intent_id=84 intent.kind=SendMessage
2025-06-06T01:37:50.066943Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:37:50.066952Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: calling update cursor for group 5ef738ad0a9b61bcc294a3bf621779e6, with cursor 85980, allow_cursor_increment is true
2025-06-06T01:37:50.066984Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: cursor updated to [85980]
2025-06-06T01:37:50.066993Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824]-[5ef738ad0a9b61bcc294a3bf621779e6] processing own message for intent 84 / SendMessage, message_epoch: 1 inbox_id="858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824" installation_id=4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10 group_id="5ef738ad0a9b61bcc294a3bf621779e6" cursor=85980 intent.id=84 intent.kind=SendMessage
2025-06-06T01:37:50.067006Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction:process_own_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: setting message @cursor=[85980] to published
2025-06-06T01:37:50.067032Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_mls::groups::mls_sync: Intent [84] moved to Processed status
2025-06-06T01:37:50.067276Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:process_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] } trust_message_order=true}:load_mls_group_with_lock_async{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:37:50.067294Z  INFO send_message:sync_until_last_intent_resolved:sync_until_intent_resolved:sync_with_conn:receive:process_messages{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}:consume_message{self=Group { id: [0x5ef7...79e6], created: [01:37:49], client: [858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824], installation: [4351051ff2882e403c5afd29259624c7242100c897d9ab16836ee71dffd48e10] }}: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [5ef738ad0a9b61bcc294a3bf621779e6] envelope cursor[85980]
2025-06-06T01:37:50.067433Z DEBUG send_message:sync_until_last_intent_resolved:sync_until_intent_resolved: xmtp_mls::groups::mls_sync: not retrying intent ID 84. since it is in state processed. synced 1 messages, 0 failed 1 succeeded from cursor Some(85980)
2025-06-06T01:37:50.067806Z DEBUG stream_conversations: xmtp_mls::subscriptions::stream_conversations: Setting up conversation stream cursor = 270124 cursor=270124 inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be"
2025-06-06T01:37:50.067812Z DEBUG stream_conversations: xmtp_api::mls: subscribing to welcome messages
stdout | suites/bugs/bug_addmember/test.test.ts > bug_addmember > should create a group
[2025-06-06T01:37:50.067Z] [info] fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be
2025-06-06T01:37:54.947174Z DEBUG xmtp_mls::groups::key_package_cleaner_worker: No expired key packages to delete
2025-06-06T01:37:54.975097Z DEBUG xmtp_mls::groups::key_package_cleaner_worker: No expired key packages to delete
2025-06-06T01:37:59.946810Z DEBUG xmtp_mls::groups::key_package_cleaner_worker: No expired key packages to delete
2025-06-06T01:37:59.974758Z DEBUG xmtp_mls::groups::key_package_cleaner_worker: No expired key packages to delete
2025-06-06T01:38:04.641630Z DEBUG process: xmtp_mls::subscriptions::process_welcome: got welcome with id 270127
2025-06-06T01:38:04.641671Z  INFO process: xmtp_mls::subscriptions::process_welcome: could not find group for welcome 270127, processing
2025-06-06T01:38:04.641675Z DEBUG process: xmtp_mls::subscriptions::process_welcome: got welcome with id 270127
2025-06-06T01:38:04.641684Z  INFO process: xmtp_mls::subscriptions::process_welcome: Trying to process streamed welcome installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" welcome_id=270127
2025-06-06T01:38:04.641689Z  INFO process: xmtp_mls::subscriptions::process_welcome: could not find group for welcome 270127, processing
2025-06-06T01:38:04.641707Z  INFO process: xmtp_mls::subscriptions::process_welcome: Trying to process streamed welcome installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" welcome_id=270127
2025-06-06T01:38:04.641847Z DEBUG process:sync_welcomes:query_welcome_messages{id_cursor=Some(270124) installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"}: xmtp_api::mls: query welcomes installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" cursor=270124
2025-06-06T01:38:04.642214Z DEBUG process:sync_welcomes:query_welcome_messages{id_cursor=Some(270124) installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"}: xmtp_api::mls: query welcomes installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" cursor=270124
2025-06-06T01:38:04.645247Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.645308Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.645806Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.645842Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::database::native: already in transaction, acquiring lock..
2025-06-06T01:38:04.652187Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being rolled back
2025-06-06T01:38:04.652953Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-06-06T01:38:04.653793Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:38:04.654334Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be 891
2025-06-06T01:38:04.654472Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:38:04.654506Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:38:04.654541Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-06-06T01:38:04.654558Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.655474Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.657393Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being rolled back
2025-06-06T01:38:04.657462Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-06-06T01:38:04.657471Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.657818Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be 891
2025-06-06T01:38:04.657915Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:38:04.657936Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:38:04.657956Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:38:04.657983Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-06-06T01:38:04.657993Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.657998Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::database::native: already in transaction, acquiring lock..
2025-06-06T01:38:04.659338Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups: calling update cursor for welcome 270127
2025-06-06T01:38:04.659590Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups: storing group with welcome id 270127
2025-06-06T01:38:04.659599Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::group: Trying to insert group
2025-06-06T01:38:04.659779Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::group: Group is inserted
2025-06-06T01:38:04.660468Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:38:04.660515Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.660573Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.660580Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::database::native: already in transaction, acquiring lock..
2025-06-06T01:38:04.661756Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups: calling update cursor for welcome 270127
2025-06-06T01:38:04.661794Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being rolled back
2025-06-06T01:38:04.661873Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.661933Z ERROR process:sync_welcomes: xmtp_mls::groups::welcome_sync: failed to create group from welcome: welcome with cursor [270127] already processed
2025-06-06T01:38:04.662239Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.662247Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::database::native: already in transaction, acquiring lock..
2025-06-06T01:38:04.663172Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being rolled back
2025-06-06T01:38:04.663205Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-06-06T01:38:04.663212Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.663384Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:38:04.663441Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be 891
2025-06-06T01:38:04.663463Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:38:04.663476Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:38:04.663493Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-06-06T01:38:04.663498Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.663501Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::database::native: already in transaction, acquiring lock..
2025-06-06T01:38:04.664350Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being rolled back
2025-06-06T01:38:04.664410Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-06-06T01:38:04.664411Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.664566Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 858bedfe6f191a41cffdb2d2ab42ec0e11f0b81f579d279b28642094b34c7824 892
2025-06-06T01:38:04.664626Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 2132095affc1b14a4d85dd76e9c0459135216ed0c2da69fb32b8ec245e0f67c0 37
2025-06-06T01:38:04.664649Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: 4e9a79326f013ed23e6c0e3b0a885fa2e9f68357a03e04898c912baf277b4e70 837
2025-06-06T01:38:04.664663Z DEBUG process:sync_welcomes:create_from_welcome: xmtp_db::encrypted_store::association_state: Loaded association state from cache: fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be 891
2025-06-06T01:38:04.664682Z  INFO process:sync_welcomes:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-06-06T01:38:04.664689Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction beginning
2025-06-06T01:38:04.664693Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::database::native: already in transaction, acquiring lock..
2025-06-06T01:38:04.665666Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups: calling update cursor for welcome 270128
2025-06-06T01:38:04.665834Z  WARN process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups: storing group with welcome id 270128
2025-06-06T01:38:04.665842Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::group: Trying to insert group
2025-06-06T01:38:04.665896Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::encrypted_store::group: Group already exists
2025-06-06T01:38:04.666484Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being committed
2025-06-06T01:38:04.666515Z  INFO process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-06-06T01:38:04.666651Z  INFO process:sync_welcomes: xmtp_mls::identity: Last key package not ready for rotation, queued for rotation
2025-06-06T01:38:04.666784Z DEBUG process: xmtp_mls::subscriptions::process_welcome: got welcome with id 270128
2025-06-06T01:38:04.666792Z  INFO process: xmtp_mls::subscriptions::process_welcome: could not find group for welcome 270128, processing
2025-06-06T01:38:04.666796Z  INFO process: xmtp_mls::subscriptions::process_welcome: Trying to process streamed welcome installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" welcome_id=270128
2025-06-06T01:38:04.666832Z DEBUG process:sync_welcomes:query_welcome_messages{id_cursor=Some(270128) installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"}: xmtp_api::mls: query welcomes installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" cursor=270128
2025-06-06T01:38:04.667415Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_mls::groups: calling update cursor for welcome 270128
2025-06-06T01:38:04.667456Z DEBUG process:sync_welcomes:create_from_welcome:transaction:inner_transaction: xmtp_db::xmtp_openmls_provider: Transaction being rolled back
2025-06-06T01:38:04.667509Z ERROR process:sync_welcomes: xmtp_mls::groups::welcome_sync: failed to create group from welcome: welcome with cursor [270128] already processed
2025-06-06T01:38:04.667706Z  INFO process:sync_welcomes: xmtp_mls::identity: Last key package not ready for rotation, queued for rotation
stdout | suites/bugs/bug_addmember/test.test.ts > bug_addmember > should create a group
[2025-06-06T01:38:04.667Z] [error] ERROR Test failed in bug_addmember > should create a group group with welcome id 270127 not found

2025-06-06T01:38:04.667950Z DEBUG process: xmtp_mls::subscriptions::process_welcome: got welcome with id 270128
2025-06-06T01:38:04.667960Z  INFO process: xmtp_mls::subscriptions::process_welcome: could not find group for welcome 270128, processing
2025-06-06T01:38:04.667965Z  INFO process: xmtp_mls::subscriptions::process_welcome: Trying to process streamed welcome installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" welcome_id=270128
2025-06-06T01:38:04.668028Z DEBUG process:sync_welcomes:query_welcome_messages{id_cursor=Some(270128) installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8"}: xmtp_api::mls: query welcomes installation_id="7fd3d24d7ede5bfc8787d6b74b70f23f3471eca704d72b2750f9d223e0d142a8" cursor=270128
2025-06-06T01:38:04.670060Z DEBUG stream_conversations: xmtp_mls::subscriptions::stream_conversations: Setting up conversation stream cursor = 270128 cursor=270128 inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be"
2025-06-06T01:38:04.670077Z DEBUG stream_conversations: xmtp_api::mls: subscribing to welcome messages
stdout | suites/bugs/bug_addmember/test.test.ts
[2025-06-06T01:38:04.669Z] [error] ERROR [alice-210] conversation stream error: Error: group with welcome id 270127 not found
 ❯ suites/bugs/bug_addmember/test.test.ts (1 test | 1 failed) 14687ms
   × bug_addmember > should create a group 14686ms
     → group with welcome id 270127 not found
2025-06-06T01:38:04.674465Z  INFO process: xmtp_mls::subscriptions::process_welcome: loading existing group for welcome_id: Some(270128) inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be" group_id="5ef738ad0a9b61bcc294a3bf621779e6" welcome_id=Some(270128)
2025-06-06T01:38:04.674614Z  INFO process: xmtp_mls::subscriptions::process_welcome: loading existing group for welcome_id: Some(270128) inbox_id="fabe04fc7df360111e023bc4b218ac2523dcb7c225744b5779fb6ce5e18840be" group_id="5ef738ad0a9b61bcc294a3bf621779e6" welcome_id=Some(270128)
2025-06-06T01:38:04.675100Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 5ef738ad0a9b61bcc294a3bf621779e6 group_id="5ef738ad0a9b61bcc294a3bf621779e6"
2025-06-06T01:38:04.675232Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group 5ef738ad0a9b61bcc294a3bf621779e6 group_id="5ef738ad0a9b61bcc294a3bf621779e6"

⎯⎯⎯⎯⎯⎯⎯ Failed Tests 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  suites/bugs/bug_addmember/test.test.ts > bug_addmember > should create a group
Error: group with welcome id 270127 not found
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯

 Test Files  1 failed (1)
      Tests  1 failed (1)
   Start at  22:37:49
   Duration  15.44s (transform 56ms, setup 0ms, collect 648ms, tests 14.69s, environment 0ms, prepare 26ms)
