inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=1 msg_epoch=1 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10598
2025-03-19T15:09:11.969991Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] staged commit is valid, will attempt to merge inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=1 msg_epoch=1 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10598
2025-03-19T15:09:11.969576Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498]: Storing a transcript message with 0 members added and 0 members removed and 1 metadata changes
2025-03-19T15:09:11.970004Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] staged commit is valid, will attempt to merge inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=1 msg_epoch=1 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10598
2025-03-19T15:09:11.970250Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] externally processed message [10598] advanced epoch from [1] to [2]
2025-03-19T15:09:11.970291Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07]: Storing a transcript message with 0 members added and 0 members removed and 1 metadata changes
2025-03-19T15:09:11.970296Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c]: Storing a transcript message with 0 members added and 0 members removed and 1 metadata changes
2025-03-19T15:09:11.970419Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] externally processed message [10598] advanced epoch from [1] to [2]
2025-03-19T15:09:11.970427Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] externally processed message [10598] advanced epoch from [1] to [2]
2025-03-19T15:09:11.970698Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.970733Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10598]
2025-03-19T15:09:11.970738Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))] group_id="f7acd6f43438d37c217695e1427eb07b" inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id="af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9"
2025-03-19T15:09:11.970743Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))]
2025-03-19T15:09:11.970904Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.970940Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10598]
2025-03-19T15:09:11.970944Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))] group_id="f7acd6f43438d37c217695e1427eb07b" inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id="9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f"
2025-03-19T15:09:11.970949Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))]
2025-03-19T15:09:11.970950Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.970984Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10598]
2025-03-19T15:09:11.970987Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))] group_id="f7acd6f43438d37c217695e1427eb07b" inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id="bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983"
2025-03-19T15:09:11.970992Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))]
2025-03-19T15:09:11.971090Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10598
2025-03-19T15:09:11.971133Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] processed stream envelope [10598]
2025-03-19T15:09:11.971184Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:11.971189Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.971192Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.971197Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(39), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.971202Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(39) }
2025-03-19T15:09:11.971206Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(39), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.971333Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10598
2025-03-19T15:09:11.971336Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 0dcc62a9ec57fbb71cad733aeb85407c45a021e50c8a0b9458d09e8ec54c981b, id = 10598 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10598
2025-03-19T15:09:11.971346Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] is about to process external envelope [10598] inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10598
2025-03-19T15:09:11.971355Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10598
2025-03-19T15:09:11.971372Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] processed stream envelope [10598]
2025-03-19T15:09:11.971417Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] processed stream envelope [10598]
2025-03-19T15:09:11.971603Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.971612Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:11.971635Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor [10598] error:[openmls process message error: Message epoch differs from the group's epoch.]
2025-03-19T15:09:11.971642Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. OpenMlsProcessMessage(ValidationError(WrongEpoch)):openmls process message error: Message epoch differs from the group's epoch.
2025-03-19T15:09:11.971647Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))] group_id="f7acd6f43438d37c217695e1427eb07b" inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c"
2025-03-19T15:09:11.971651Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))]
2025-03-19T15:09:11.971852Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 2 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10598
2025-03-19T15:09:11.971911Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] processed stream envelope [10598]
2025-03-19T15:09:11.972570Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498", "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f", "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07", "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c", "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4"]
2025-03-19T15:09:11.972633Z DEBUG load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498", sequence_id: Some(2491) }, GetIdentityUpdatesV2Filter { inbox_id: "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f", sequence_id: Some(2492) }, GetIdentityUpdatesV2Filter { inbox_id: "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07", sequence_id: Some(2490) }, GetIdentityUpdatesV2Filter { inbox_id: "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c", sequence_id: Some(2493) }, GetIdentityUpdatesV2Filter { inbox_id: "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4", sequence_id: None }] len=5}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.972659Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(41), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.972668Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(41) }
2025-03-19T15:09:11.972692Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(41), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.973159Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 357 }
2025-03-19T15:09:11.973166Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.973170Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.974980Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(41), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.974990Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(41) }
2025-03-19T15:09:11.974994Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(41), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.975372Z  INFO load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }. New GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }
2025-03-19T15:09:11.975396Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" from None to Some(2496)
2025-03-19T15:09:11.976042Z DEBUG load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:11.976052Z DEBUG load_mls_group_with_lock_async:fetch_key_packages: xmtp_api::mls: fetch key packages inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.976065Z DEBUG load_mls_group_with_lock_async:fetch_key_packages: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.976083Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(43), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.976128Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(43) }
2025-03-19T15:09:11.976132Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(43), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.976520Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 39 }
2025-03-19T15:09:11.976525Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.976528Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.977544Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(43), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.977552Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(43) }
2025-03-19T15:09:11.977555Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(43), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.977730Z DEBUG xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.977801Z DEBUG xmtp_mls::groups::intents: queued intent inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" intent_kind=UpdateGroupMembership
2025-03-19T15:09:11.977998Z DEBUG xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.978336Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::intents: old group membership: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}
2025-03-19T15:09:11.978342Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::intents: updated group membership: {"88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}
2025-03-19T15:09:11.978346Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }. New GroupMembership { members: {"88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }
2025-03-19T15:09:11.978405Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" from None to Some(2496)
2025-03-19T15:09:11.978469Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:11.978476Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:fetch_key_packages: xmtp_api::mls: fetch key packages inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.978491Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:fetch_key_packages: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.978511Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(45), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.978518Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(45) }
2025-03-19T15:09:11.978523Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(45), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.978977Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 39 }
2025-03-19T15:09:11.978987Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.978990Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.979927Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(45), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.979938Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(45) }
2025-03-19T15:09:11.979942Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(45), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.983227Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] set stored intent [13] to state `published` inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c intent.id=13 intent.kind=UpdateGroupMembership group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:11.983309Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.983335Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.983364Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(47), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.983373Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(47) }
2025-03-19T15:09:11.983409Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(47), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.983990Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 3798 }
2025-03-19T15:09:11.983999Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.984002Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.987284Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(47), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.987292Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(47) }
2025-03-19T15:09:11.987296Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(47), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.987315Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] published intent [13] of type [UpdateGroupMembership] intent.id=13 intent.kind=UpdateGroupMembership inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:11.987321Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: Commit sent. Stopping further publishes for this round
2025-03-19T15:09:11.987399Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10598 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.987414Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.987444Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(49), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.987460Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(49) }
2025-03-19T15:09:11.987464Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(49), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.987907Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:11.987916Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.987918Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.988127Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-19T15:09:11.988162Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10599] inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.988460Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] in process_stream_entry() inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.988473Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:11.988478Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:11.988635Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 2 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.988840Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10598 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498"
2025-03-19T15:09:11.988857Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.988879Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.988883Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.988884Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-19T15:09:11.988893Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(49), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.988898Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(49) }
2025-03-19T15:09:11.988900Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(49), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.988898Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-19T15:09:11.988886Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-19T15:09:11.988908Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10599] inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.988914Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.988923Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10599] inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.988929Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10599] inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.989065Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 4ad16cfb431e9bdfc50803c0e10416ef96213587a9de569661cae4e34a136fd6, id = 10599 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.989074Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] is about to process own envelope [10599] for intent [13] inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599 intent_id=13 intent.kind=UpdateGroupMembership
2025-03-19T15:09:11.989177Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] in process_stream_entry() inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.989184Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:11.989186Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:11.989277Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] in process_stream_entry() inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.989287Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:11.989289Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:11.989353Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:11.989359Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.989362Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.989367Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=2 for [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] in process_stream_entry() inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.989375Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:11.989377Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:11.989421Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 2 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.989482Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 2 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=2
2025-03-19T15:09:11.989622Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10598 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c"
2025-03-19T15:09:11.989634Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.989651Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.989656Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-19T15:09:11.989658Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.989685Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] Validating commit for intent 13. Message timestamp: 1742396951985919000
2025-03-19T15:09:11.989687Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10598 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07"
2025-03-19T15:09:11.989705Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10598) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.989725Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.989726Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }
2025-03-19T15:09:11.989731Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19) }
2025-03-19T15:09:11.989735Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(19), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.989735Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }. New GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }
2025-03-19T15:09:11.989827Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" from None to Some(2496)
2025-03-19T15:09:11.989898Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:11.989955Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:11.989968Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.989998Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f]-[f7acd6f43438d37c217695e1427eb07b] processing own message for intent 13 / UpdateGroupMembership, message_epoch: 2 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599 intent.id=13 intent.kind=UpdateGroupMembership
2025-03-19T15:09:11.990004Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] merging pending commit for intent 13
2025-03-19T15:09:11.990120Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:11.990128Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.990130Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.990186Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.990195Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(19) }
2025-03-19T15:09:11.990195Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:11.990200Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.990201Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.990204Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.990207Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f]: Storing a transcript message with 1 members added and 0 members removed and 0 metadata changes
2025-03-19T15:09:11.990292Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 4ad16cfb431e9bdfc50803c0e10416ef96213587a9de569661cae4e34a136fd6, id = 10599 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.990301Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] is about to process external envelope [10599] inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.990450Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.990735Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.990743Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(19) }
2025-03-19T15:09:11.990746Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.990834Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.990838Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 4ad16cfb431e9bdfc50803c0e10416ef96213587a9de569661cae4e34a136fd6, id = 10599 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.990848Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] is about to process external envelope [10599] inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.991023Z  INFO sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10599]
2025-03-19T15:09:11.991055Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.991155Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: taking post commit action inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c intent.id=13 intent.kind=UpdateGroupMembership
2025-03-19T15:09:11.991326Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: total welcome message proto bytes=9579
2025-03-19T15:09:11.991331Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: welcome chunk_size=4925
2025-03-19T15:09:11.991335Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit:send_welcome_messages: xmtp_api::mls: send welcome messages inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.991352Z DEBUG sync_until_intent_resolved:sync_with_conn:post_commit:send_welcome_messages: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.991386Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.991391Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(19) }
2025-03-19T15:09:11.991391Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(51), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.991395Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(19), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.991401Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(51) }
2025-03-19T15:09:11.991418Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(51), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.991490Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash 4ad16cfb431e9bdfc50803c0e10416ef96213587a9de569661cae4e34a136fd6, id = 10599 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.991499Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] is about to process external envelope [10599] inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.991607Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:11.991686Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 3 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599 epoch=3
2025-03-19T15:09:11.991686Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.991821Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] extracted sender inbox id: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.991851Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496}, failed_installations: [] }
2025-03-19T15:09:11.991856Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }. New GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496}, failed_installations: [] }
2025-03-19T15:09:11.991922Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4"]
2025-03-19T15:09:11.991927Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 9597 }
2025-03-19T15:09:11.991932Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.991934Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.991964Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4", sequence_id: None }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.991984Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10599 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.991994Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.991994Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:11.992016Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.992022Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(53), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.992034Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.992038Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.992038Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(53) }
2025-03-19T15:09:11.992053Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(53), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.992188Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] extracted sender inbox id: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.992212Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }
2025-03-19T15:09:11.992216Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }. New GroupMembership { members: {"1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }
2025-03-19T15:09:11.992282Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4"]
2025-03-19T15:09:11.992316Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4", sequence_id: None }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.992338Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.992345Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.992347Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.992530Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:11.992536Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.992538Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.992596Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 73 }
2025-03-19T15:09:11.992599Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.992601Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.992698Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:11.992876Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 73 }
2025-03-19T15:09:11.992888Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.992891Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.992892Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] extracted sender inbox id: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.992939Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491}, failed_installations: [] }
2025-03-19T15:09:11.992946Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }. New GroupMembership { members: {"88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491}, failed_installations: [] }
2025-03-19T15:09:11.993053Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4"]
2025-03-19T15:09:11.993092Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4", sequence_id: None }] len=1}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.993108Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.993119Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.993121Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(21), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.993683Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 73 }
2025-03-19T15:09:11.993724Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.993730Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.993753Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(53), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.993759Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(53) }
2025-03-19T15:09:11.993769Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(53), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.993893Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: taking post commit action inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c intent.id=13 intent.kind=UpdateGroupMembership
2025-03-19T15:09:11.994064Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: total welcome message proto bytes=9579
2025-03-19T15:09:11.994069Z DEBUG process:sync_with_conn:post_commit: xmtp_mls::groups::mls_sync: welcome chunk_size=4925
2025-03-19T15:09:11.994072Z DEBUG process:sync_with_conn:post_commit:send_welcome_messages: xmtp_api::mls: send welcome messages inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:11.994087Z DEBUG process:sync_with_conn:post_commit:send_welcome_messages: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.994105Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(55), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.994113Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(55) }
2025-03-19T15:09:11.994124Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(55), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.994125Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.994131Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.994134Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.994139Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.994684Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.994687Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.994567Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(51), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.994737Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(51) }
2025-03-19T15:09:11.994742Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(51), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.994744Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 9597 }
2025-03-19T15:09:11.994761Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.994767Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.995096Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" from None to Some(2496)
2025-03-19T15:09:11.995140Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" from None to Some(2496)
2025-03-19T15:09:11.995468Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.995475Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:11.995478Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(21), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.995767Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Computing diff for "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" from None to Some(2496)
2025-03-19T15:09:11.995820Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-19T15:09:11.995851Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="4d914442734223d25d36ad692a767326024e336982077fb950034f094469763c" welcome_id=6678
2025-03-19T15:09:11.995880Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:11.995880Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:11.995912Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.995918Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-19T15:09:11.996011Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:11.996029Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.996035Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] processing message in transaction epoch = 2, cursor = 10599 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 cursor=10599
2025-03-19T15:09:11.996059Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:11.996080Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.996086Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] processing message in transaction epoch = 2, cursor = 10599 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 cursor=10599
2025-03-19T15:09:11.996457Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:11.996561Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:11.996582Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:11.996587Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] processing message in transaction epoch = 2, cursor = 10599 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 cursor=10599
2025-03-19T15:09:11.996976Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(55), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.996990Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(55) }
2025-03-19T15:09:11.996993Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(55), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:11.997050Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] received staged commit. Merging and clearing any pending commits inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.997059Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] staged commit is valid, will attempt to merge inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.997262Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07]: Storing a transcript message with 1 members added and 0 members removed and 0 metadata changes
2025-03-19T15:09:11.997307Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] externally processed message [10599] advanced epoch from [2] to [3]
2025-03-19T15:09:11.997319Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] received staged commit. Merging and clearing any pending commits inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.997364Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] staged commit is valid, will attempt to merge inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.997452Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 3 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.997496Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] processed stream envelope [10599]
2025-03-19T15:09:11.997611Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498]: Storing a transcript message with 1 members added and 0 members removed and 0 metadata changes
2025-03-19T15:09:11.997649Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] externally processed message [10599] advanced epoch from [2] to [3]
2025-03-19T15:09:11.997705Z DEBUG load_mls_group_with_lock_async: xmtp_mls::identity_updates: Fetching identity updates for: ["88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4", "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07", "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f", "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c", "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498"]
2025-03-19T15:09:11.997779Z DEBUG load_mls_group_with_lock_async:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4", sequence_id: Some(2496) }, GetIdentityUpdatesV2Filter { inbox_id: "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07", sequence_id: Some(2490) }, GetIdentityUpdatesV2Filter { inbox_id: "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f", sequence_id: Some(2492) }, GetIdentityUpdatesV2Filter { inbox_id: "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c", sequence_id: Some(2493) }, GetIdentityUpdatesV2Filter { inbox_id: "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498", sequence_id: Some(2491) }] len=5}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.997803Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(57), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.997813Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(57) }
2025-03-19T15:09:11.997837Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(57), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.997848Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.997868Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] received staged commit. Merging and clearing any pending commits inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.997892Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] staged commit is valid, will attempt to merge inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=2 msg_epoch=2 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10599
2025-03-19T15:09:11.997915Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10599]
2025-03-19T15:09:11.998068Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c]: Storing a transcript message with 1 members added and 0 members removed and 0 metadata changes
2025-03-19T15:09:11.998102Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] externally processed message [10599] advanced epoch from [2] to [3]
2025-03-19T15:09:11.998173Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.998267Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10599]
2025-03-19T15:09:11.998289Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:11.998299Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 3 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.998310Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-19T15:09:11.998467Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] processed stream envelope [10599]
2025-03-19T15:09:11.998538Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:11.998551Z DEBUG process:create_from_welcome: xmtp_mls::identity_updates: Fetching identity updates for: ["07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c", "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07", "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f", "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498"]
2025-03-19T15:09:11.998585Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(17) }
2025-03-19T15:09:11.998597Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10599]
2025-03-19T15:09:11.998688Z DEBUG process:create_from_welcome:get_identity_updates_v2{filters=[GetIdentityUpdatesV2Filter { inbox_id: "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c", sequence_id: None }, GetIdentityUpdatesV2Filter { inbox_id: "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07", sequence_id: None }, GetIdentityUpdatesV2Filter { inbox_id: "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f", sequence_id: None }, GetIdentityUpdatesV2Filter { inbox_id: "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498", sequence_id: None }] len=4}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:11.998717Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(47), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:11.998746Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(47) }
2025-03-19T15:09:11.998757Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(47), flags: (0x1: END_STREAM) }
2025-03-19T15:09:11.998716Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 3 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.998812Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 360 }
2025-03-19T15:09:11.998827Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.998831Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.998815Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] processed stream envelope [10599]
2025-03-19T15:09:11.999049Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 3 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10599
2025-03-19T15:09:11.999084Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] processed stream envelope [10599]
2025-03-19T15:09:11.999227Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 277 }
2025-03-19T15:09:11.999231Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:11.999233Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.000189Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(57), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.000199Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(57) }
2025-03-19T15:09:12.000203Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(57), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.000293Z  INFO load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496}, failed_installations: [] }. New GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496}, failed_installations: [] }
2025-03-19T15:09:12.000350Z DEBUG xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.000397Z DEBUG xmtp_mls::groups::intents: queued intent inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" intent_kind=UpdateGroupMembership
2025-03-19T15:09:12.000631Z DEBUG xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.000979Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::intents: old group membership: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496}
2025-03-19T15:09:12.000985Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::intents: updated group membership: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}
2025-03-19T15:09:12.000989Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496}, failed_installations: [] }. New GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.001090Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.003439Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] set stored intent [14] to state `published` inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c intent.id=14 intent.kind=UpdateGroupMembership group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:12.003510Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: xmtp_api::mls: sending [1] group messages inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:12.003527Z DEBUG sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async:send_group_messages: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:12.003548Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(47), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.003552Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(59), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.003557Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(47) }
2025-03-19T15:09:12.003560Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(59) }
2025-03-19T15:09:12.003571Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(47), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.003686Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(59), flags: (0x1: END_STREAM) }
2025-03-19T15:09:12.004174Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 3308 }
2025-03-19T15:09:12.004182Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.004185Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.006019Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c 2493
2025-03-19T15:09:12.006104Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.007474Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(59), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.007487Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(59) }
2025-03-19T15:09:12.007492Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(59), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.007522Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] published intent [14] of type [UpdateGroupMembership] intent.id=14 intent.kind=UpdateGroupMembership inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:12.007530Z  INFO sync_until_intent_resolved:sync_with_conn:publish_intents:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: Commit sent. Stopping further publishes for this round
2025-03-19T15:09:12.007618Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10599 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:12.007641Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:12.007674Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(61), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.007686Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(61) }
2025-03-19T15:09:12.007689Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(61), flags: (0x1: END_STREAM) }
2025-03-19T15:09:12.007893Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07 2490
2025-03-19T15:09:12.008092Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-19T15:09:12.008110Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-19T15:09:12.008122Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10600] inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.008142Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10600] inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.008167Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(21) }
2025-03-19T15:09:12.008171Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:12.008283Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.008289Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.008310Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10600] inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.008170Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(13) }
2025-03-19T15:09:12.008347Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c]  is about to process streamed envelope for group 0xf7ac...b07b cursor_id=[10600] inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.008542Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=3 for [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] in process_stream_entry() inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.008550Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=3 for [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] in process_stream_entry() inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.008558Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:12.008563Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:12.008567Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:12.008605Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:12.008667Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=3 for [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] in process_stream_entry() inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.008676Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:12.008678Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:12.008838Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 3 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.008881Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 3 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.008887Z DEBUG process: xmtp_mls::subscriptions::stream_messages: epoch=3 for [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] in process_stream_entry() inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.008897Z  INFO process: xmtp_mls::subscriptions::stream_messages: error is not retryable. ReceiveGroup(EpochIncrementNotAllowed):processing group message in stream: epoch increment not allowed
2025-03-19T15:09:12.008899Z  WARN process: xmtp_mls::subscriptions::stream_messages: error processing streamed message epoch increment not allowed
2025-03-19T15:09:12.009032Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 3 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.009111Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(61), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.009119Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(61) }
2025-03-19T15:09:12.009123Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(61), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.009141Z DEBUG process: xmtp_mls::subscriptions::stream_messages: attempting recovery sync for group 0xf7ac...b07b in epoch 3 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600 epoch=3
2025-03-19T15:09:12.009177Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10599 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07"
2025-03-19T15:09:12.009192Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:12.009215Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.009222Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23) }
2025-03-19T15:09:12.009225Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23), flags: (0x1: END_STREAM) }
2025-03-19T15:09:12.009235Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash e1b7739948b2122fcac7bddafccbc76d64a30af61f7aa91207f19cada6ab8e76, id = 10600 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.009242Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] is about to process own envelope [10600] for intent [14] inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600 intent_id=14 intent.kind=UpdateGroupMembership
2025-03-19T15:09:12.009273Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10599 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498"
2025-03-19T15:09:12.009285Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:12.009303Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.009310Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23) }
2025-03-19T15:09:12.009312Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23), flags: (0x1: END_STREAM) }
2025-03-19T15:09:12.009318Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10599 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c"
2025-03-19T15:09:12.009334Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:12.009360Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.009370Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23) }
2025-03-19T15:09:12.009373Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(23), flags: (0x1: END_STREAM) }
2025-03-19T15:09:12.009415Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: xmtp_api::mls: query group messages group_id="f7acd6f43438d37c217695e1427eb07b" id_cursor=10599 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f"
2025-03-19T15:09:12.009430Z DEBUG process:sync_with_conn:receive:query_group_messages{id_cursor=Some(10599) group_id="f7acd6f43438d37c217695e1427eb07b"}: tower::buffer::worker: service.ready=true processing request
2025-03-19T15:09:12.009450Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(63), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.009457Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(63) }
2025-03-19T15:09:12.009460Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Data { stream_id: StreamId(63), flags: (0x1: END_STREAM) }
2025-03-19T15:09:12.009720Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] Validating commit for intent 14. Message timestamp: 1742396952006077000
2025-03-19T15:09:12.009746Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:12.009758Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.009766Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }. New GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.009815Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:12.009820Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009827Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009821Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:12.009838Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009840Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:12.009843Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 32 }
2025-03-19T15:09:12.009846Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009846Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Ping { ack: false, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009841Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009865Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.009854Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009849Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Ping { ack: true, payload: [2, 4, 16, 16, 9, 14, 7, 7] }
2025-03-19T15:09:12.009919Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:12.009932Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.009960Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f]-[f7acd6f43438d37c217695e1427eb07b] processing own message for intent 14 / UpdateGroupMembership, message_epoch: 3 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600 intent.id=14 intent.kind=UpdateGroupMembership
2025-03-19T15:09:12.009966Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] merging pending commit for intent 14
2025-03-19T15:09:12.010171Z  INFO sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f]: Storing a transcript message with 0 members added and 1 members removed and 0 metadata changes
2025-03-19T15:09:12.010737Z DEBUG sync_until_intent_resolved:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.010788Z  INFO sync_until_intent_resolved:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10600]
2025-03-19T15:09:12.010872Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.010884Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(23) }
2025-03-19T15:09:12.010888Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.011002Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash e1b7739948b2122fcac7bddafccbc76d64a30af61f7aa91207f19cada6ab8e76, id = 10600 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011007Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] is about to process external envelope [10600] inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011182Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(63), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.011192Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.011194Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.011199Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(23) }
2025-03-19T15:09:12.011193Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(63) }
2025-03-19T15:09:12.011202Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.011208Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(63), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.011206Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x4: END_HEADERS) }
2025-03-19T15:09:12.011254Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(23) }
2025-03-19T15:09:12.011261Z DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(23), flags: (0x5: END_HEADERS | END_STREAM) }
2025-03-19T15:09:12.011293Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash e1b7739948b2122fcac7bddafccbc76d64a30af61f7aa91207f19cada6ab8e76, id = 10600 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011298Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] is about to process external envelope [10600] inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011361Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash e1b7739948b2122fcac7bddafccbc76d64a30af61f7aa91207f19cada6ab8e76, id = 10600 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011370Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] is about to process external envelope [10600] inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011378Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: Processing envelope with hash e1b7739948b2122fcac7bddafccbc76d64a30af61f7aa91207f19cada6ab8e76, id = 10600 inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011389Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}: xmtp_mls::groups::mls_sync: client [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] is about to process external envelope [10600] inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.011512Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.011589Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Wrote association state to cache: 81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498 2491
2025-03-19T15:09:12.011609Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.011645Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-19T15:09:12.011653Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.011657Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-19T15:09:12.012098Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:12.012317Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] extracted sender inbox id: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.012327Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.012334Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:12.012348Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.012350Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:12.012354Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }. New GroupMembership { members: {"81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.012366Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction failed: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor [10600] error:[openmls process message error: Message epoch differs from the group's epoch.]
2025-03-19T15:09:12.012397Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: error is not retryable. OpenMlsProcessMessage(ValidationError(WrongEpoch)):openmls process message error: Message epoch differs from the group's epoch.
2025-03-19T15:09:12.012403Z ERROR process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Message processing errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))] group_id="f7acd6f43438d37c217695e1427eb07b" inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c"
2025-03-19T15:09:12.012405Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:12.012408Z ERROR process:sync_with_conn: xmtp_mls::groups::mls_sync: receive error ReceiveErrors([OpenMlsProcessMessage(ValidationError(WrongEpoch))]) error=Receive errors: [OpenMlsProcessMessage(ValidationError(WrongEpoch))]
2025-03-19T15:09:12.012444Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.012531Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:12.012545Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.012549Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] processing message in transaction epoch = 3, cursor = 10600 inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 cursor=10600
2025-03-19T15:09:12.012564Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] extracted sender inbox id: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.012588Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }
2025-03-19T15:09:12.012593Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490}, failed_installations: [] }. New GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }
2025-03-19T15:09:12.012617Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] extracted sender inbox id: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.012642Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::validated_commit: Group context extensions proposal found: GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.012651Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::identity_updates: Getting installation diff. Old: GroupMembership { members: {"07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4": 2496, "92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492}, failed_installations: [] }. New GroupMembership { members: {"92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07": 2490, "1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f": 2492, "81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498": 2491, "07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c": 2493}, failed_installations: [] }
2025-03-19T15:09:12.012661Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 4 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.012679Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.012707Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f] processed stream envelope [10600]
2025-03-19T15:09:12.012727Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:12.012738Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.012739Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.012741Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] processing message in transaction epoch = 3, cursor = 10600 inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 cursor=10600
2025-03-19T15:09:12.012793Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:12.012804Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.012807Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] processing message in transaction epoch = 3, cursor = 10600 inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 cursor=10600
2025-03-19T15:09:12.012907Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.012918Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(9), error_code: CANCEL }
2025-03-19T15:09:12.012934Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.012937Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(9), error_code: CANCEL }
2025-03-19T15:09:12.012947Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.012950Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(9), error_code: CANCEL }
2025-03-19T15:09:12.012960Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.012962Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(9), error_code: CANCEL }
2025-03-19T15:09:12.012966Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.012995Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(21), error_code: CANCEL }
2025-03-19T15:09:12.013619Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] received staged commit. Merging and clearing any pending commits inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.013626Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] staged commit is valid, will attempt to merge inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=af57faf2b8d2e7c8755b27bde8fee40d4d85abe1909771eaad8684001f1e30a9 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.013921Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498]: Storing a transcript message with 0 members added and 1 members removed and 0 metadata changes
2025-03-19T15:09:12.013969Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] externally processed message [10600] advanced epoch from [3] to [4]
2025-03-19T15:09:12.013972Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] received staged commit. Merging and clearing any pending commits inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.014020Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] staged commit is valid, will attempt to merge inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=bc2bcad5dbd17b9d6b7dc85dfc90754c82660980a7c703ebb31c6f1fdc3b6983 sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.014306Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-19T15:09:12.014423Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] received staged commit. Merging and clearing any pending commits inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.014434Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] staged commit is valid, will attempt to merge inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" sender_inbox_id="1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f" installation_id=9de88da9acf60ee0a4d456524074b8c2fed35a565203948e196ae4921998089f sender_installation_id="7ec8b25a2375669c33a280ee1c3040d5cdd060b465afc691a04842e9b829058c" group_id="f7acd6f43438d37c217695e1427eb07b" current_epoch=3 msg_epoch=3 msg_group_id="f7acd6f43438d37c217695e1427eb07b" cursor=10600
2025-03-19T15:09:12.014454Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group is inserted
2025-03-19T15:09:12.014572Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.014638Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c]: Storing a transcript message with 0 members added and 1 members removed and 0 metadata changes
2025-03-19T15:09:12.014907Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10600]
2025-03-19T15:09:12.014909Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] externally processed message [10600] advanced epoch from [3] to [4]
2025-03-19T15:09:12.015069Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07]: Storing a transcript message with 0 members added and 1 members removed and 0 metadata changes
2025-03-19T15:09:12.015109Z  INFO process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::groups::mls_sync: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] externally processed message [10600] advanced epoch from [3] to [4]
2025-03-19T15:09:12.015237Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.015517Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group f7acd6f43438d37c217695e1427eb07b group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:12.015518Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 4 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.015527Z DEBUG xmtp_mls::subscriptions::stream_messages: begin establishing new message stream to include group_id=f7acd6f43438d37c217695e1427eb07b inbox_id="88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4" installation_id=4d914442734223d25d36ad692a767326024e336982077fb950034f094469763c group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:12.015563Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498] processed stream envelope [10600]
2025-03-19T15:09:12.015596Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.015601Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(13), error_code: CANCEL }
2025-03-19T15:09:12.015762Z DEBUG xmtp_api::mls: subscribing to group messages inbox_id="88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4"
2025-03-19T15:09:12.015790Z  INFO process: xmtp_mls::subscriptions::stream_conversations: Trying to process streamed welcome installation_id="4d914442734223d25d36ad692a767326024e336982077fb950034f094469763c" welcome_id=6679
2025-03-19T15:09:12.015831Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.015846Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-19T15:09:12.015860Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.015892Z DEBUG process:sync_with_conn:receive:process_message{allow_epoch_increment=true}:load_mls_group_with_lock_async: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.015938Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10600]
2025-03-19T15:09:12.015950Z  INFO process:sync_with_conn:receive: xmtp_mls::groups::mls_sync: Transaction completed successfully: process for group [f7acd6f43438d37c217695e1427eb07b] envelope cursor[10600]
2025-03-19T15:09:12.016304Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 4 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.016321Z DEBUG process: xmtp_mls::subscriptions::stream_messages: recovery sync triggered by streamed message successful. epoch = 4 for group = f7acd6f43438d37c217695e1427eb07b inbox_id="07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c" group_id="f7acd6f43438d37c217695e1427eb07b" cursor_id=10600
2025-03-19T15:09:12.016333Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07] processed stream envelope [10600]
2025-03-19T15:09:12.016349Z DEBUG process: xmtp_mls::subscriptions::stream_messages: [07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c] processed stream envelope [10600]
2025-03-19T15:09:12.016351Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.016367Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(13), error_code: CANCEL }
2025-03-19T15:09:12.016378Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(7), error_code: CANCEL }
2025-03-19T15:09:12.016380Z DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(13), error_code: CANCEL }
2025-03-19T15:09:12.016975Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.016991Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017007Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017011Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017022Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017026Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017028Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017040Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.017049Z DEBUG tower::buffer::worker: buffer closing; waking pending tasks
2025-03-19T15:09:12.018195Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being rolled back
2025-03-19T15:09:12.018228Z  INFO process:create_from_welcome: xmtp_mls::groups: Validating initial group membership
2025-03-19T15:09:12.018372Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 07a2c26df485a85c2dc0cb1bff54c52686366e9f7d46b2292c21e2872bff874c 2493
2025-03-19T15:09:12.018386Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 88cb8a64362de8e35d463c9c7b277b2b7c92b6ad4d490463cd4a0a21fd7d57a4 2496
2025-03-19T15:09:12.018416Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 81f937b3ea5af2b103301120088837e7ac36855cf862ab7e3bed4391e828d498 2491
2025-03-19T15:09:12.018452Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 92043582b571aa1ad8f45afe7b890cbeee0aefb3bf2897952ae2c1777018ae07 2490
2025-03-19T15:09:12.018470Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store::association_state: Loaded association state from cache: 1fb9a3b73c183cba47cbb3ccd59d0bbfc90dfbac5049e62817f477e26ac9972f 2492
2025-03-19T15:09:12.018533Z  INFO process:create_from_welcome: xmtp_mls::groups: Group membership validated
2025-03-19T15:09:12.018541Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction beginning
2025-03-19T15:09:12.018552Z  INFO process:create_from_welcome: xmtp_mls::groups::mls_ext::mls_ext_welcome: Trying to decrypt welcome
2025-03-19T15:09:12.021113Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Trying to insert group
2025-03-19T15:09:12.021168Z  INFO process:create_from_welcome: xmtp_mls::storage::encrypted_store::group: Group already exists
2025-03-19T15:09:12.021487Z DEBUG process:create_from_welcome: xmtp_mls::storage::encrypted_store: Transaction being committed
2025-03-19T15:09:12.021757Z DEBUG xmtp_mls::subscriptions::stream_conversations: finished processing with group f7acd6f43438d37c217695e1427eb07b group_id="f7acd6f43438d37c217695e1427eb07b"
2025-03-19T15:09:12.021762Z DEBUG xmtp_mls::subscriptions::stream_messages: group f7acd6f43438d37c217695e1427eb07b already in stream

thread 'tokio-runtime-worker' panicked at /Users/runner/work/libxmtp/libxmtp/xmtp_mls/src/subscriptions/stream_messages.rs:211:73:
`async fn` resumed after completion
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
fabrizioguespe@fabrizios-MacBook-Pro xmtp-qa-tools % 